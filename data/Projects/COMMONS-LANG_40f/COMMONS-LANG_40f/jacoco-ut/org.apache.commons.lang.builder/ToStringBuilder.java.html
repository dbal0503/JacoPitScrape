<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ToStringBuilder.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Commons Lang</a> &gt; <a href="index.source.html" class="el_package">org.apache.commons.lang.builder</a> &gt; <span class="el_source">ToStringBuilder.java</span></div><h1>ToStringBuilder.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.apache.commons.lang.builder;

import org.apache.commons.lang.ObjectUtils;

/**
 * &lt;p&gt;Assists in implementing {@link Object#toString()} methods.&lt;/p&gt;
 *
 * &lt;p&gt;This class enables a good and consistent &lt;code&gt;toString()&lt;/code&gt; to be built for any
 * class or object. This class aims to simplify the process by:&lt;/p&gt;
 * &lt;ul&gt;
 *  &lt;li&gt;allowing field names&lt;/li&gt;
 *  &lt;li&gt;handling all types consistently&lt;/li&gt;
 *  &lt;li&gt;handling nulls consistently&lt;/li&gt;
 *  &lt;li&gt;outputting arrays and multi-dimensional arrays&lt;/li&gt;
 *  &lt;li&gt;enabling the detail level to be controlled for Objects and Collections&lt;/li&gt;
 *  &lt;li&gt;handling class hierarchies&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * &lt;p&gt;To use this class write code as follows:&lt;/p&gt;
 *
 * &lt;pre&gt;
 * public class Person {
 *   String name;
 *   int age;
 *   boolean smoker;
 * 
 *   ...
 * 
 *   public String toString() {
 *     return new ToStringBuilder(this).
 *       append(&quot;name&quot;, name).
 *       append(&quot;age&quot;, age).
 *       append(&quot;smoker&quot;, smoker).
 *       toString();
 *   }
 * }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;This will produce a toString of the format:
 * &lt;code&gt;Person@7f54[name=Stephen,age=29,smoker=false]&lt;/code&gt;&lt;/p&gt;
 * 
 * &lt;p&gt;To add the superclass &lt;code&gt;toString&lt;/code&gt;, use {@link #appendSuper}.
 * To append the &lt;code&gt;toString&lt;/code&gt; from an object that is delegated
 * to (or any other object), use {@link #appendToString}.&lt;/p&gt;
 *
 * &lt;p&gt;Alternatively, there is a method that uses reflection to determine
 * the fields to test. Because these fields are usually private, the method, 
 * &lt;code&gt;reflectionToString&lt;/code&gt;, uses &lt;code&gt;AccessibleObject.setAccessible&lt;/code&gt; to
 * change the visibility of the fields. This will fail under a security manager,
 * unless the appropriate permissions are set up correctly. It is also
 * slower than testing explicitly.&lt;/p&gt;
 *
 * &lt;p&gt;A typical invocation for this method would look like:&lt;/p&gt;
 *
 * &lt;pre&gt;
 * public String toString() {
 *   return ToStringBuilder.reflectionToString(this);
 * }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;You can also use the builder to debug 3rd party objects:&lt;/p&gt;
 *
 * &lt;pre&gt;
 * System.out.println(&quot;An object: &quot; + ToStringBuilder.reflectionToString(anObject));
 * &lt;/pre&gt;
 * 
 * &lt;p&gt;The exact format of the &lt;code&gt;toString&lt;/code&gt; is determined by
 * the {@link ToStringStyle} passed into the constructor.&lt;/p&gt;
 *
 * @author Stephen Colebourne
 * @author Gary Gregory
 * @author Pete Gieser
 * @since 1.0
 * @version $Id$
 */
public class ToStringBuilder&lt;T&gt; {

    /**
     * The default style of output to use.
     */
<span class="fc" id="L97">    private static ToStringStyle defaultStyle = ToStringStyle.DEFAULT_STYLE;</span>

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Gets the default &lt;code&gt;ToStringStyle&lt;/code&gt; to use.&lt;/p&gt;
     *
     * &lt;p&gt;This could allow the &lt;code&gt;ToStringStyle&lt;/code&gt; to be
     * controlled for an entire application with one call.&lt;/p&gt;
     *
     * &lt;p&gt;This might be used to have a verbose
     * &lt;code&gt;ToStringStyle&lt;/code&gt; during development and a compact
     * &lt;code&gt;ToStringStyle&lt;/code&gt; in production.&lt;/p&gt;
     * 
     * @return the default &lt;code&gt;ToStringStyle&lt;/code&gt;
     */
    public static ToStringStyle getDefaultStyle() {
<span class="fc" id="L114">        return defaultStyle;</span>
    }

    /**
     * &lt;p&gt;Forwards to &lt;code&gt;ReflectionToStringBuilder&lt;/code&gt;.&lt;/p&gt;
     * 
     * @param object  the Object to be output
     * @return the String result
     * @see ReflectionToStringBuilder#toString(Object)
     */
    public static String reflectionToString(Object object) {
<span class="fc" id="L125">        return ReflectionToStringBuilder.toString(object);</span>
    }

    /**
     * &lt;p&gt;Forwards to &lt;code&gt;ReflectionToStringBuilder&lt;/code&gt;.&lt;/p&gt;
     * 
     * @param object  the Object to be output
     * @param style  the style of the &lt;code&gt;toString&lt;/code&gt; to create, may be &lt;code&gt;null&lt;/code&gt;
     * @return the String result
     * @see ReflectionToStringBuilder#toString(Object,ToStringStyle)
     */
    public static String reflectionToString(Object object, ToStringStyle style) {
<span class="fc" id="L137">        return ReflectionToStringBuilder.toString(object, style);</span>
    }

    /**
     * &lt;p&gt;Forwards to &lt;code&gt;ReflectionToStringBuilder&lt;/code&gt;.&lt;/p&gt;
     * 
     * @param object  the Object to be output
     * @param style  the style of the &lt;code&gt;toString&lt;/code&gt; to create, may be &lt;code&gt;null&lt;/code&gt;
     * @param outputTransients  whether to include transient fields
     * @return the String result
     * @see ReflectionToStringBuilder#toString(Object,ToStringStyle,boolean)
     */
    public static String reflectionToString(Object object, ToStringStyle style, boolean outputTransients) {
<span class="fc" id="L150">        return ReflectionToStringBuilder.toString(object, style, outputTransients, false, null);</span>
    }

    /**
     * &lt;p&gt;Forwards to &lt;code&gt;ReflectionToStringBuilder&lt;/code&gt;.&lt;/p&gt;
     * 
     * @param object  the Object to be output
     * @param style  the style of the &lt;code&gt;toString&lt;/code&gt; to create, may be &lt;code&gt;null&lt;/code&gt;
     * @param outputTransients  whether to include transient fields
     * @param reflectUpToClass  the superclass to reflect up to (inclusive), may be &lt;code&gt;null&lt;/code&gt;
     * @return the String result
     * @see ReflectionToStringBuilder#toString(Object,ToStringStyle,boolean,boolean,Class)
     * @since 2.0
     */
    public static &lt;T&gt; String reflectionToString(
        T object,
        ToStringStyle style,
        boolean outputTransients,
        Class&lt;? super T&gt; reflectUpToClass) {
<span class="fc" id="L169">        return ReflectionToStringBuilder.toString(object, style, outputTransients, false, reflectUpToClass);</span>
    }

    /**
     * &lt;p&gt;Sets the default &lt;code&gt;ToStringStyle&lt;/code&gt; to use.&lt;/p&gt;
     * 
     * @param style  the default &lt;code&gt;ToStringStyle&lt;/code&gt;
     * @throws IllegalArgumentException if the style is &lt;code&gt;null&lt;/code&gt;
     */
    public static void setDefaultStyle(ToStringStyle style) {
<span class="fc bfc" id="L179" title="All 2 branches covered.">        if (style == null) {</span>
<span class="fc" id="L180">            throw new IllegalArgumentException(&quot;The style must not be null&quot;);</span>
        }
<span class="fc" id="L182">        defaultStyle = style;</span>
<span class="fc" id="L183">    }</span>

    /**
     * Current toString buffer.
     */
    private final StringBuffer buffer;

    /**
     * The object being output.
     */
    private final T object;

    /**
     * The style of output to use.
     */
    private final ToStringStyle style;

    /**
     * &lt;p&gt;Constructor for &lt;code&gt;ToStringBuilder&lt;/code&gt;.&lt;/p&gt;
     *
     * &lt;p&gt;This constructor outputs using the default style set with
     * &lt;code&gt;setDefaultStyle&lt;/code&gt;.&lt;/p&gt;
     * 
     * @param object  the Object to build a &lt;code&gt;toString&lt;/code&gt; for
     * @throws IllegalArgumentException  if the Object passed in is
     *  &lt;code&gt;null&lt;/code&gt;
     */
    public ToStringBuilder(T object) {
<span class="fc" id="L211">        this(object, getDefaultStyle(), null);</span>
<span class="fc" id="L212">    }</span>

    /**
     * &lt;p&gt;Constructor for &lt;code&gt;ToStringBuilder&lt;/code&gt; specifying the
     * output style.&lt;/p&gt;
     *
     * &lt;p&gt;If the style is &lt;code&gt;null&lt;/code&gt;, the default style is used.&lt;/p&gt;
     * 
     * @param object  the Object to build a &lt;code&gt;toString&lt;/code&gt; for
     * @param style  the style of the &lt;code&gt;toString&lt;/code&gt; to create,
     *  may be &lt;code&gt;null&lt;/code&gt;
     * @throws IllegalArgumentException  if the Object passed in is
     *  &lt;code&gt;null&lt;/code&gt;
     */
    public ToStringBuilder(T object, ToStringStyle style) {
<span class="fc" id="L227">        this(object, style, null);</span>
<span class="fc" id="L228">    }</span>

    /**
     * &lt;p&gt;Constructor for &lt;code&gt;ToStringBuilder&lt;/code&gt;.&lt;/p&gt;
     *
     * &lt;p&gt;If the style is &lt;code&gt;null&lt;/code&gt;, the default style is used.&lt;/p&gt;
     *
     * &lt;p&gt;If the buffer is &lt;code&gt;null&lt;/code&gt;, a new one is created.&lt;/p&gt;
     * 
     * @param object  the Object to build a &lt;code&gt;toString&lt;/code&gt; for
     * @param style  the style of the &lt;code&gt;toString&lt;/code&gt; to create,
     *  may be &lt;code&gt;null&lt;/code&gt;
     * @param buffer  the &lt;code&gt;StringBuffer&lt;/code&gt; to populate, may be
     *  &lt;code&gt;null&lt;/code&gt;
     */
<span class="fc" id="L243">    public ToStringBuilder(T object, ToStringStyle style, StringBuffer buffer) {</span>
<span class="fc bfc" id="L244" title="All 2 branches covered.">        if (style == null) {</span>
<span class="fc" id="L245">            style = getDefaultStyle();</span>
        }
<span class="pc bpc" id="L247" title="1 of 2 branches missed.">        if (buffer == null) {</span>
<span class="fc" id="L248">            buffer = new StringBuffer(512);</span>
        }
<span class="fc" id="L250">        this.buffer = buffer;</span>
<span class="fc" id="L251">        this.style = style;</span>
<span class="fc" id="L252">        this.object = object;</span>

<span class="fc" id="L254">        style.appendStart(buffer, object);</span>
<span class="fc" id="L255">    }</span>

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;boolean&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(boolean value) {
<span class="fc" id="L267">        style.append(buffer, null, value);</span>
<span class="fc" id="L268">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;boolean&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(boolean[] array) {
<span class="fc" id="L281">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L282">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;byte&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(byte value) {
<span class="fc" id="L295">        style.append(buffer, null, value);</span>
<span class="fc" id="L296">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;byte&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(byte[] array) {
<span class="fc" id="L309">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L310">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;char&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(char value) {
<span class="fc" id="L323">        style.append(buffer, null, value);</span>
<span class="fc" id="L324">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;char&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(char[] array) {
<span class="fc" id="L337">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L338">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;double&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(double value) {
<span class="fc" id="L351">        style.append(buffer, null, value);</span>
<span class="fc" id="L352">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;double&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(double[] array) {
<span class="fc" id="L365">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L366">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;float&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(float value) {
<span class="fc" id="L379">        style.append(buffer, null, value);</span>
<span class="fc" id="L380">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;float&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(float[] array) {
<span class="fc" id="L393">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L394">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;int&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(int value) {
<span class="fc" id="L407">        style.append(buffer, null, value);</span>
<span class="fc" id="L408">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;int&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(int[] array) {
<span class="fc" id="L421">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L422">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;long&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(long value) {
<span class="fc" id="L435">        style.append(buffer, null, value);</span>
<span class="fc" id="L436">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;long&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(long[] array) {
<span class="fc" id="L449">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L450">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;Object&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param obj  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(Object obj) {
<span class="fc" id="L463">        style.append(buffer, null, obj, null);</span>
<span class="fc" id="L464">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;Object&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(Object[] array) {
<span class="fc" id="L477">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L478">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;short&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(short value) {
<span class="fc" id="L491">        style.append(buffer, null, value);</span>
<span class="fc" id="L492">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;short&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(short[] array) {
<span class="fc" id="L505">        style.append(buffer, null, array, null);</span>
<span class="fc" id="L506">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;boolean&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, boolean value) {
<span class="fc" id="L518">        style.append(buffer, fieldName, value);</span>
<span class="fc" id="L519">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;boolean&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;hashCode&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, boolean[] array) {
<span class="nc" id="L531">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L532">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;boolean&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, boolean[] array, boolean fullDetail) {
<span class="nc" id="L551">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L552">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;byte&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, byte value) {
<span class="fc" id="L564">        style.append(buffer, fieldName, value);</span>
<span class="fc" id="L565">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;byte&lt;/code&gt; array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, byte[] array) {
<span class="nc" id="L576">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L577">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;byte&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, byte[] array, boolean fullDetail) {
<span class="nc" id="L596">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L597">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;char&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, char value) {
<span class="fc" id="L609">        style.append(buffer, fieldName, value);</span>
<span class="fc" id="L610">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;char&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, char[] array) {
<span class="nc" id="L622">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L623">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;char&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, char[] array, boolean fullDetail) {
<span class="nc" id="L642">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L643">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;double&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, double value) {
<span class="fc" id="L655">        style.append(buffer, fieldName, value);</span>
<span class="fc" id="L656">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;double&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, double[] array) {
<span class="nc" id="L668">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L669">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;double&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, double[] array, boolean fullDetail) {
<span class="nc" id="L688">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L689">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;float&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, float value) {
<span class="fc" id="L701">        style.append(buffer, fieldName, value);</span>
<span class="fc" id="L702">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;float&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, float[] array) {
<span class="nc" id="L714">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L715">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;float&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, float[] array, boolean fullDetail) {
<span class="nc" id="L734">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L735">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;int&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, int value) {
<span class="fc" id="L747">        style.append(buffer, fieldName, value);</span>
<span class="fc" id="L748">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;int&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, int[] array) {
<span class="nc" id="L760">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L761">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;int&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, int[] array, boolean fullDetail) {
<span class="nc" id="L780">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L781">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;long&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, long value) {
<span class="fc" id="L793">        style.append(buffer, fieldName, value);</span>
<span class="fc" id="L794">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;long&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, long[] array) {
<span class="nc" id="L806">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L807">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;long&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, long[] array, boolean fullDetail) {
<span class="nc" id="L826">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L827">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;Object&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param obj  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, Object obj) {
<span class="fc" id="L839">        style.append(buffer, fieldName, obj, null);</span>
<span class="fc" id="L840">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;Object&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param obj  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail,
     *  &lt;code&gt;false&lt;/code&gt; for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, Object obj, boolean fullDetail) {
<span class="fc" id="L854">        style.append(buffer, fieldName, obj, Boolean.valueOf(fullDetail));</span>
<span class="fc" id="L855">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;Object&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, Object[] array) {
<span class="nc" id="L867">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L868">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;Object&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, Object[] array, boolean fullDetail) {
<span class="nc" id="L887">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L888">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; an &lt;code&gt;short&lt;/code&gt;
     * value.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param value  the value to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, short value) {
<span class="fc" id="L900">        style.append(buffer, fieldName, value);</span>
<span class="fc" id="L901">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;short&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, short[] array) {
<span class="nc" id="L913">        style.append(buffer, fieldName, array, null);</span>
<span class="nc" id="L914">        return this;</span>
    }

    /**
     * &lt;p&gt;Append to the &lt;code&gt;toString&lt;/code&gt; a &lt;code&gt;short&lt;/code&gt;
     * array.&lt;/p&gt;
     *
     * &lt;p&gt;A boolean parameter controls the level of detail to show.
     * Setting &lt;code&gt;true&lt;/code&gt; will output the array in full. Setting
     * &lt;code&gt;false&lt;/code&gt; will output a summary, typically the size of
     * the array.
     *
     * @param fieldName  the field name
     * @param array  the array to add to the &lt;code&gt;toString&lt;/code&gt;
     * @param fullDetail  &lt;code&gt;true&lt;/code&gt; for detail, &lt;code&gt;false&lt;/code&gt;
     *  for summary info
     * @return this
     */
    public ToStringBuilder&lt;T&gt; append(String fieldName, short[] array, boolean fullDetail) {
<span class="nc" id="L933">        style.append(buffer, fieldName, array, Boolean.valueOf(fullDetail));</span>
<span class="nc" id="L934">        return this;</span>
    }

    /**
     * &lt;p&gt;Appends with the same format as the default &lt;code&gt;Object toString()
     * &lt;/code&gt; method. Appends the class name followed by 
     * {@link System#identityHashCode(java.lang.Object)}.&lt;/p&gt;
     * 
     * @param object  the &lt;code&gt;Object&lt;/code&gt; whose class name and id to output
     * @return this
     * @since 2.0
     */
    public ToStringBuilder&lt;T&gt; appendAsObjectToString(Object object) {
<span class="nc" id="L947">        ObjectUtils.identityToString(this.getStringBuffer(), object);</span>
<span class="nc" id="L948">        return this;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Append the &lt;code&gt;toString&lt;/code&gt; from the superclass.&lt;/p&gt;
     * 
     * &lt;p&gt;This method assumes that the superclass uses the same &lt;code&gt;ToStringStyle&lt;/code&gt;
     * as this one.&lt;/p&gt;
     * 
     * &lt;p&gt;If &lt;code&gt;superToString&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;, no change is made.&lt;/p&gt;
     *
     * @param superToString  the result of &lt;code&gt;super.toString()&lt;/code&gt;
     * @return this
     * @since 2.0
     */
    public ToStringBuilder&lt;T&gt; appendSuper(String superToString) {
<span class="fc bfc" id="L966" title="All 2 branches covered.">        if (superToString != null) {</span>
<span class="fc" id="L967">            style.appendSuper(buffer, superToString);</span>
        }
<span class="fc" id="L969">        return this;</span>
    }

    /**
     * &lt;p&gt;Append the &lt;code&gt;toString&lt;/code&gt; from another object.&lt;/p&gt;
     * 
     * &lt;p&gt;This method is useful where a class delegates most of the implementation of
     * its properties to another class. You can then call &lt;code&gt;toString()&lt;/code&gt; on
     * the other class and pass the result into this method.&lt;/p&gt;
     * 
     * &lt;pre&gt;
     *   private AnotherObject delegate;
     *   private String fieldInThisClass;
     * 
     *   public String toString() {
     *     return new ToStringBuilder(this).
     *       appendToString(delegate.toString()).
     *       append(fieldInThisClass).
     *       toString();
     *   }&lt;/pre&gt;
     * 
     * &lt;p&gt;This method assumes that the other object uses the same &lt;code&gt;ToStringStyle&lt;/code&gt;
     * as this one.&lt;/p&gt;
     * 
     * &lt;p&gt;If the &lt;code&gt;toString&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;, no change is made.&lt;/p&gt;
     *
     * @param toString  the result of &lt;code&gt;toString()&lt;/code&gt; on another object
     * @return this
     * @since 2.0
     */
    public ToStringBuilder&lt;T&gt; appendToString(String toString) {
<span class="fc bfc" id="L1000" title="All 2 branches covered.">        if (toString != null) {</span>
<span class="fc" id="L1001">            style.appendToString(buffer, toString);</span>
        }
<span class="fc" id="L1003">        return this;</span>
    }

    /**
     * &lt;p&gt;Returns the &lt;code&gt;Object&lt;/code&gt; being output.&lt;/p&gt;
     * 
     * @return The object being output.
     * @since 2.0
     */
    public T getObject() {
<span class="fc" id="L1013">        return object;</span>
    }

    /**
     * &lt;p&gt;Gets the &lt;code&gt;StringBuffer&lt;/code&gt; being populated.&lt;/p&gt;
     * 
     * @return the &lt;code&gt;StringBuffer&lt;/code&gt; being populated
     */
    public StringBuffer getStringBuffer() {
<span class="fc" id="L1022">        return buffer;</span>
    }

    //----------------------------------------------------------------------------

    /**
     * &lt;p&gt;Gets the &lt;code&gt;ToStringStyle&lt;/code&gt; being used.&lt;/p&gt;
     * 
     * @return the &lt;code&gt;ToStringStyle&lt;/code&gt; being used
     * @since 2.0
     */
    public ToStringStyle getStyle() {
<span class="fc" id="L1034">        return style;</span>
    }

    /**
     * &lt;p&gt;Returns the built &lt;code&gt;toString&lt;/code&gt;.&lt;/p&gt;
     * 
     * &lt;p&gt;This method appends the end of data indicator, and can only be called once.
     * Use {@link #getStringBuffer} to get the current string state.&lt;/p&gt;
     * 
     * &lt;p&gt;If the object is &lt;code&gt;null&lt;/code&gt;, return the style's &lt;code&gt;nullText&lt;/code&gt;&lt;/p&gt;
     * 
     * @return the String &lt;code&gt;toString&lt;/code&gt;
     */
    @Override
    public String toString() {
<span class="fc bfc" id="L1049" title="All 2 branches covered.">        if (this.getObject() == null) {</span>
<span class="fc" id="L1050">            this.getStringBuffer().append(this.getStyle().getNullText());</span>
        } else {
<span class="fc" id="L1052">            style.appendEnd(this.getStringBuffer(), this.getObject());</span>
        }
<span class="fc" id="L1054">        return this.getStringBuffer().toString();</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>